version: '3.9'

services:
  front:
    build:
      context: .
      dockerfile: Dockerfile
    image: rrhh_front:latest
    container_name: rrhh_front
    restart: unless-stopped
    environment:
      - NODE_ENV=development
      - HOST=0.0.0.0
      - PORT=3000
    ports:
      - "3000:3000"
    volumes:
      - ./:/app:delegated
      - node_modules:/app/node_modules
    command: sh -c "npm run dev -- --hostname 0.0.0.0 --port 3000"

volumes:
  node_modules:

# Production example (uncomment to use):
# front_prod:
#   build: .
#   image: rrhh_front:prod
#   environment:
#     - NODE_ENV=production
#   ports:
#     - "3000:3000"
#   command: ["node", ".output/server/index.mjs"]
